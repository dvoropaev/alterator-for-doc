<!DOCTYPE node PUBLIC
"-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
"http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<node name="/" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd">
    <interface name="org.altlinux.alterator.service1">
        <doc:summary>Expose Alterator service lifecycle operations that consume parameters from stdin and return command exit codes.</doc:summary>

        <method name="Info">
            <doc:summary>Return Alterator Entry description for the service instance.</doc:summary>
            <doc:detail>Produces Alterator Entry entity data for type service in stdout_bytes. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='ay' name='stdout_bytes' direction='out'></arg>
            <arg type="i" name="response" direction="out"></arg>
        </method>

        <method name="Deploy">
            <doc:summary>Deploy the service using parameters from stdin payload.</doc:summary>
            <doc:detail>stdin carries service deployment options as a single string. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='s' name='stdin' direction='in'></arg>
            <arg type='i' name='response' direction='out'></arg>
        </method>

         <method name="Start">
            <doc:summary>Start systemd units required by the service.</doc:summary>
            <doc:detail>Runs service-related units after deployment. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='i' name='response' direction='out'></arg>
        </method>

         <method name="Stop">
            <doc:summary>Stop systemd units used by the service.</doc:summary>
            <doc:detail>Terminates service-related units without removing deployment artifacts. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='i' name='response' direction='out'></arg>
        </method>

        <method name="Configure">
            <doc:summary>Apply configuration to an already deployed service.</doc:summary>
            <doc:detail>stdin contains configuration parameters as a string. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='s' name='stdin' direction='in'></arg>
            <arg type='i' name='response' direction='out'></arg>
        </method>

        <method name="Undeploy">
            <doc:summary>Disable or remove the service deployment.</doc:summary>
            <doc:detail>stdin provides undeploy options as a string. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='s' name='stdin' direction='in'></arg>
            <arg type='i' name='response' direction='out'></arg>
        </method>

        <method name="Backup">
            <doc:summary>Create a service backup according to stdin parameters.</doc:summary>
            <doc:detail>stdin supplies backup configuration such as target and mode. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='s' name='stdin' direction='in'></arg>
            <arg type='i' name='response' direction='out'></arg>
        </method>

        <method name="Restore">
            <doc:summary>Restore a service from a backup using stdin parameters.</doc:summary>
            <doc:detail>stdin carries restore options and backup references. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='s' name='stdin' direction='in'></arg>
            <arg type='i' name='response' direction='out'></arg>
        </method>

        <method name="Status">
            <doc:summary>Report the current service state and deployment data.</doc:summary>
            <doc:detail>stdout_bytes contains status payload describing deployment state and method used. Response: 0 — success, != 0 — error.</doc:detail>
            <arg type='ay' name='stdout_bytes' direction='out'></arg>
            <arg type="i" name="response" direction="out"></arg>
        </method>

        <signal name="service_stderr_signal">
            <doc:summary>Stream stderr lines from long-running service operations.</doc:summary>
            <doc:detail>Each signal instance transfers one stderr line emitted during deploy, configure, backup, or restore actions.</doc:detail>
            <arg type="s" name=""/>
        </signal>

        <signal name="service_stdout_signal">
            <doc:summary>Stream stdout lines from long-running service operations.</doc:summary>
            <doc:detail>Each signal instance transfers one stdout line emitted during deploy, configure, backup, or restore actions.</doc:detail>
            <arg type="s" name=""/>
        </signal>

    </interface>
</node>
