# This .clang-format configuration is based on the LLVM coding style
# with additional project-specific adjustments.
#
# References:
# - LLVM Coding Standards:
#   https://llvm.org/docs/CodingStandards.html
# - clang-format style options:
#   https://clang.llvm.org/docs/ClangFormatStyleOptions.html

# Use LLVM style as a base for all options not explicitly specified below.
BasedOnStyle: LLVM

# Column width is limited to 100 characters.
# This encourages readable code while keeping lines relatively compact.
ColumnLimit: 100

# How much indentation to use for continued lines.
IndentWidth: 4
ContinuationIndentWidth: 4

# Prefer keeping function arguments/parameters on the same line when possible.
# This helps avoid early wrapping before ColumnLimit is exceeded.
BinPackParameters: true
BinPackArguments: true

# Align wrapped arguments/parameters under the first argument after '('.
AlignAfterOpenBracket: Align

# Align escaped newlines to the left to keep things visually consistent.
AlignEscapedNewlines: Left

# Do not force a line break after a function definition return type.
AlwaysBreakAfterDefinitionReturnType: None

# Add a space after C-style casts.
# Example: (int) x
SpaceAfterCStyleCast: true

# Attach '*' to the type rather than the variable name.
# Example: int* ptr;
PointerAlignment: Left

# Use Allman style braces.
# Example:
# if (cond)
# {
#     ...
# }
BreakBeforeBraces: Allman

# Break before binary operators when wrapping long expressions.
# Do not break before the assignment operator ('=').
BreakBeforeBinaryOperators: NonAssignment

# Align consecutive assignments in a block to improve readability.
AlignConsecutiveAssignments: Consecutive

# Allow breaking long string literals into multiple adjacent string literals.
# This is especially useful for translation strings and error messages.
BreakStringLiterals: true

# Do not force breaking before multiline strings.
# This helps avoid formatting like:
#   x =
#       "long string...";
AlwaysBreakBeforeMultilineStrings: false

# Make breaking string literals expensive unless required by ColumnLimit.
PenaltyBreakString: 2000

# Avoid breaking lines right after assignment whenever possible.
# Prefer breaking function arguments instead.
PenaltyBreakAssignment: 2000

# Do not allow placing *all* call arguments onto the next line.
# Prevents formatting like:
#   func(
#       a, b, c);
AllowAllArgumentsOnNextLine: false

# Avoid breaking immediately after '(' in a function call.
# Prefer keeping the first argument on the same line and breaking later ones.
PenaltyBreakBeforeFirstCallParameter: 2000

