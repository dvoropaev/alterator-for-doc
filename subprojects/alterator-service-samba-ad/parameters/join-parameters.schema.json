{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Samba AD Provision Parameters",
    "type": "object",
    "$comment": "This schema is used to validate the parameters passed to the Samba AD provision API",
            "propertyNames": {
                "enum": [
                    "netBiosName",
                    "realm",
                    "adminPassword",
                    "dnsBackend",
                    "dnsForwarder",
                    "backendStore",
                    "backendStoreSize",
                    "useRfc2307",
                    "forceDeploy",
                    "functionalLevel",
                    "siteName",
                    "serverRole",
                    "mode",
                    "adminLogin",
                    "ipAddressDc"
                ]
            },
            "properties": {
                "netBiosName": {
                    "type": "string"
                },
                "realm": {
                    "type": "string"
                },
                "adminPassword": {
                    "type": "string"
                },
                "dnsBackend": {
                    "type": "string",
                    "enum": [
                        "SAMBA_INTERNAL",
                        "BIND9_DLZ"
                    ]
                },
                "server_role": {
                    "type": "string",
                    "enum": [
                        "dc",
                        "domain controller",
                        "member server",
                        "member",
                        "standalone"
                    ]
                },
                "backendStore": {
                    "type": "string",
                    "enum": [
                        "tdb",
                        "mdb"
                    ]
                },
                "backendStoreSize": {
                    "$comment": "This property is required if backendStore is mdb",
                    "type": "integer"
                },
                "dnsForwarder": {
                    "$comment": "This property is required if dns Backend is SAMBA_INTERNAL",
                    "type": "string",
                    "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                },
                "useMitkrb5": {
                    "type": "boolean"
                },
                "useRfc": {
                    "type": "boolean"
                },
                "forceDeploy": {
                    "$comment": "This property used to force deploy the provision",
                    "type": "boolean"
                },
                "functionalLevel": {
                    "type": "string",
                    "enum": [
                        "2000",
                        "2003",
                        "2008",
                        "2008_R2",
                        "2016"
                    ]
                },
                "siteName": {
                    "type": "string"
                },
                "adminLogin": {
                    "type": "string"
                },
                "mode": {
                    "type": "string"
                },
                "ipAddressDc": {
                    "type": "string",
                    "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                }
            },
            "required": [
                    "netBiosName",
                    "realm",
                    "adminPassword",
                    "mode",
                    "adminLogin",
                    "ipAddressDc"
            ]
    }
