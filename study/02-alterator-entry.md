# Глава 2. Alterator Entry
Alterator Entry — набор текстовых файлов, задающих сущности платформы в TOML-подобном формате.

## Типы и расположение
Возможности:
- `Application`, `Backend`, `Category`, `Diag`, `Object`, `Component`, `Service` — стандартные типы сущностей.
- Каталоги `/usr/share/alterator/<plural>/` содержат системные определения, `/etc/alterator/<plural>/` — пользовательские переопределения.
- Для backend-файлов поддерживается режим `user`: файлы помещаются в `backends/user/`.
- Файлы именуются `<имя>.<type>`; для diagnostictool допустимы варианты `.diag` и `.diagnostictool`.

## Базовая структура файла
Порядок:
1. Файл хранится в UTF-8, допускаются комментарии `#` и пустые строки.
2. Основная секция `[<Type>]` обязательно присутствует первой и определяет сущность.
3. Каждая запись — пара `Ключ = Значение`; ключи чувствительны к регистру и используют символы `A-Za-z0-9-`.
4. Дополнительные группы (`[parameters.<name>]`, `[resources.<name>]` и т.д.) уточняют параметры сущности.

## Типы значений
Характеристики:
- `string`, `localestring`, `iconstring` — текстовые значения, локализованные или использующие имя значка.
- `stringlist` — список строк, разделённых пробелом.
- `command` — исполняемая команда оболочки.
- `boolean` — логический параметр.
- `numeric` — целое или вещественное значение.

## Локализация и ключи
Особенности:
- Для отображаемых полей указываются языковые варианты (`display_name.en`, `display_name.ru`, `comment.en`, `comment.ru`).
- Общие ключи включают `type`, `name`, `module`, `interface`, `thread_limit`, `action_id` и набор специфичных атрибутов для каждого типа.
- При отсутствии полного имени интерфейса backend добавляет префикс `org.altlinux.alterator.`.

## Расширения для сервисов
Важно:
- Секция `[parameters.<имя>]` описывает вводимые значения: `type`, `context`, `default`, `required`, `hidden`, `values`, `array_*`, `prototype`.
- Секция `[types.<имя>]` определяет составные объекты для параметров `object`.
- Секция `[resources.<имя>]` фиксирует файлы, каталоги, systemd-юниты и порты, с которыми работает сервис.
- Для backend-файлов секция `[methods.<method>]` описывает D-Bus методы и связывает их с обработчиками.

## Как читать и проверять
Рекомендации:
- Сверять синтаксис по `alterator-entry/doc/README.md` и сопровождающим файлам.
- Проверять корректность через инструменты, поставляемые в пакете `alterator_entry` (см. `alterator_entry/`).
- При изменении сущностей удостовериться, что все локализации и ресурсы перечислены и соответствуют helper-скриптам.
