<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Глава 8. Каталоги репозитория</title>
</head>
<body>
  <nav><a href="index.html">На главную</a> · <a href="chapter07-development-workflow.html">Предыдущая глава</a></nav>
  <h1>Глава 8. Каталоги репозитория</h1>
  <p>Раздел содержит карту репозитория и назначение ключевых каталогов. Используйте её для навигации и поиска примеров.</p>
  <h2>Корневой уровень</h2>
  <ul>
    <li><strong>alterator-entry/</strong> — библиотека и утилиты для работы с Entry-файлами. Важные файлы: <a href="../alterator-entry/doc/README.md">doc/README.md</a> (спецификация), <a href="../alterator-entry/alterator_entry/alterator_entry.py">alterator_entry.py</a> (API), <a href="../alterator-entry/scripts/alterator-entry">scripts/alterator-entry</a> (CLI), <a href="../alterator-entry/scripts/editions2packages">scripts/editions2packages</a> (извлечение пакетов), <a href="../alterator-entry/schemas">schemas/</a> (JSON Schema).</li>
    <li><strong>alterator-manager/</strong> — исходники демона Alterator Manager: <a href="../alterator-manager/main.c">main.c</a>, <a href="../alterator-manager/alterator_manager_backends.c">alterator_manager_backends.c</a>, <a href="../alterator-manager/alterator_manager_default_interfaces.c">alterator_manager_default_interfaces.c</a>, <a href="../alterator-manager/alterator_manager_modules.c">alterator_manager_modules.c</a>, документация <a href="../alterator-manager/docs/README-ru.md">docs/README-ru.md</a>, unit-файлы и политики.</li>
    <li><strong>alterator-interface-service/</strong> — описание интерфейса <code>service1</code>: <a href="../alterator-interface-service/doc/README.md">doc/README.md</a>, <a href="../alterator-interface-service/org.altlinux.alterator.service1.xml">XML</a>, <a href="../alterator-interface-service/org.altlinux.alterator.service1.policy">policy</a>.</li>
    <li><strong>alterator-backend-packages/</strong> — backend для управления пакетами. Каталог <a href="../alterator-backend-packages/apt">apt/</a> содержит <a href="../alterator-backend-packages/apt/apt.backend">apt.backend</a>, wrapper-скрипты и политику.</li>
    <li><strong>alterator-test-services/</strong> — набор учебных сервисов. Содержит директории <a href="../alterator-test-services/test_service1">test_service1</a>…<a href="../alterator-test-services/test_service4">test_service4</a>, helper <a href="../alterator-test-services/test-services-helper">test-services-helper</a>, шаблоны <a href="../alterator-test-services/test-service.backend.template">test-service.backend.template</a> и <a href="../alterator-test-services/test-service-diag.backend.template">test-service-diag.backend.template</a>, генератор схем <a href="../alterator-test-services/schema-generator">schema-generator</a>.</li>
    <li><strong>alterator-service-chrony/</strong> — пример промышленного сервиса: <a href="../alterator-service-chrony/service-chrony.service">service-chrony.service</a>, <a href="../alterator-service-chrony/service-chrony.backend">service-chrony.backend</a>, helper <a href="../alterator-service-chrony/service-chrony/service-chrony">service-chrony</a>.</li>
    <li><strong>alterator-service-samba-share/</strong>, <strong>alterator-service-vsftpd/</strong>, <strong>alterator-service-chrony</strong> и другие каталоги <code>alterator-service-*</code> — готовые сервисы по аналогии с Chrony (изучите пары <code>.service</code>/<code>.backend</code> и helper-скрипты).</li>
    <li><strong>alterator-manager-servises.wiki</strong> — описание GUI и пользовательского сценария (<a href="../alterator-manager-servises.wiki">файл</a>).</li>
    <li><strong>interface-service.wiki</strong> — расширенные заметки по сущности service и интерфейсу <code>service1</code>.</li>
    <li><strong>alteratorctl/</strong> — исходники консольной утилиты: <a href="../alteratorctl/main.c">main.c</a>, модули <a href="../alteratorctl/alteratorctlmanagermodule.c">alteratorctlmanagermodule.c</a>, <a href="../alteratorctl/alteratorctlpackagesmodule.c">alteratorctlpackagesmodule.c</a>, <a href="../alteratorctl/alteratorctlgdbussource.c">alteratorctlgdbussource.c</a>.</li>
    <li><strong>alterator-entry/doc/</strong> — дополнительные документы по спецификации (см. <a href="../alterator-entry/doc/alterator-diag.txt">alterator-diag.txt</a>, <a href="../alterator-entry/doc/desktop-entry.txt">desktop-entry.txt</a>).</li>
    <li><strong>alterator-manager/docs/</strong> — документация по backend, модулям, polkit и remote (<a href="../alterator-manager/docs/README-ru.md">README-ru.md</a>).</li>
  </ul>
  <h2>Дополнительные файлы</h2>
  <ul>
    <li><strong>examples.txt</strong> — образцы оформления документации.</li>
    <li><strong>AGENTS.md</strong> — инструкции по стилю и приоритетам обновления документации.</li>
    <li><strong>apt1.md</strong> — справочные заметки по backend пакетов.</li>
  </ul>
  <h2>Где размещать новые файлы</h2>
  <ul>
    <li>Entry-файлы сервисов — <code>/usr/share/alterator/services</code> или <code>/etc/alterator/services</code> (см. <a href="../alterator-entry/doc/README.md">спецификацию</a>).</li>
    <li>Backend-файлы — <code>/usr/share/alterator/backends</code> или <code>/etc/alterator/backends</code>, подкаталоги <code>system</code>/<code>user</code> (<a href="../alterator-entry/doc/README.md">README</a>).</li>
    <li>Helper-скрипты — <code>/usr/lib/&lt;пакет&gt;/</code> или <code>/usr/bin/</code> (пример: <a href="../alterator-service-chrony/service-chrony/service-chrony">service-chrony</a>).</li>
    <li>Диагностические описания — <code>/usr/share/alterator/&lt;имя&gt;_diag</code> (пример: <a href="../alterator-test-services/test_service1/test_service1.diag">test_service1.diag</a>).</li>
    <li>JSON Schema для helper — рядом с helper (см. <a href="../alterator-test-services/test-services-helper">test-services-helper</a>).</li>
  </ul>
  <h2>Полезные ориентиры</h2>
  <ul>
    <li>Примеры сложных параметров и ресурсов — <a href="../alterator-test-services/test_service1/test_service1.service">test_service1.service</a>.</li>
    <li>Пример насыщенного backend — <a href="../alterator-backend-packages/apt/apt.backend">apt.backend</a>.</li>
    <li>Механизм загрузки модулей — <a href="../alterator-manager/alterator_manager_modules.c">alterator_manager_modules.c</a>.</li>
  </ul>
  <p>Карта каталогов завершает курс: теперь можно уверенно ориентироваться в репозитории и переходить к практической разработке.</p>
</body>
</html>
