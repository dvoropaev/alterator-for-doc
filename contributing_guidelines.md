# Рекомендации по разработке и ревью кода

## Общие принципы

### Автоматизация
- Все требования, которые могут быть проверены автоматически, должны быть проверены автоматически
- Следование coding conventions, conventional commits, требования линтеров должно проверяться в CI
- Ревьювер не должен предъявлять больших требований к оформлению, чем CI

### Документация
- Все обязательные критерии проверок должны быть задокументированы
- Правила проведения ревью и используемые инструменты должны быть описаны
- Локальные спецификации могут ссылаться на общие положения с дополнительными требованиями

## Требования к коммитам

### Структура коммитов
- **Небольшие атомарные коммиты** - каждый коммит должен содержать изменения с одним назначением
- **Коммиты не должны ломать сборку и функционал**
- **Использование Conventional Commits** с понятными сообщениями
- **Отсутствие "мусорных изменений"** (trailing spaces, случайные переносы строк)
- **Отсутствие изменений версии в spec файле**

### Схема организации коммитов для новой логики:
1. Коммит с реализацией
2. Коммит со внедрением  
3. Коммит с очищением старой неиспользуемой логики (если это замещение)

## Требования к Pull Request'ам

### Содержание PR
- **Один PR = одна задача** - избегайте раздутых MR
- **Понятное название и описание** - что решает и как решает
- **Ссылки на issues** - которые закрывает PR
- **Подсветка изменений, ломающих совместимость**
- **Статус WIP** - не смотрим, если не попросили

### Технические требования
- **Решение должно вписываться в архитектуру** проекта
- **Покрытие тестами** новой функциональности в том же PR
- **Обновление документации** (README, CHANGELOG и т.д.)
- **Корректное подключение новых библиотек**

## Требования к коду

### Качество кода
- **Имена должны отражать суть** - лучше длинное понятное имя, чем короткое и непонятное
- **Избегание сильной вложенности** - инвертировать if и использовать return
- **Чистота кода** - отсутствие неиспользуемых функций, переменных
- **Обработка ошибок и исключений**
- **Безопасность** - защита от уязвимостей

### Стиль кодирования
- **Следование принятому стилю форматирования** проекта
- **Использование файлов с правилами форматирования** в среде разработки
- **Структура кода и принципы модульности**
- **Полезные комментарии** в сложных участках

## Процесс ревью

### Для разработчиков
- **Предварительное обсуждение** глобальных изменений
- **Коммуникация в Forgejo** для понимания контекста
- **Пометка замечаний как разрешённых** при исправлении
- **Тестирование изменений** перед отправкой

### Для ревьюеров
- **Использование замечаний в Forgejo**
- **Слияние только после разрешения всех замечаний**
- **Слияние выполняет принимающая сторона**
- **Тестирование внесённых изменений**

## Инструменты автоматизации

### Линтеры и форматтеры
- ESLint, Pylint, ruff, golangci-lint, Checkstyle
- Prettier, Black, clang-format

### Статические анализаторы
- SonarQube, Bandit, gosec, Clippy

### Автоматические проверки
- pre-commit хуки
- CI-пайплайны

## Принципы разработки

### Основные принципы
- **DRY (Don't Repeat Yourself)**
- **KISS (Keep It Simple, Stupid)**
- **Эффективность алгоритмов** - сначала сделать неплохо, затем оптимизировать

### Архитектурные принципы
- **Разграничение ответственности** между сущностями
- **Понимание архитектуры проекта**
- **Следование принятым в проекте паттернам**

---

*Данные рекомендации собраны на основе обсуждения в команде разработки и могут быть дополнены.*